# Example training configuration for Faster R-CNN
# Paths
project_root: "/home/reinanlinux/Documentos/TrainR-cnn"
data:
  images:
    train_dir: "new_whales_rcnn/images/Train"
    val_dir: "new_whales_rcnn/images/Validation/val"
  annotations:
    train_json: "new_whales_rcnn/annotations/instances_Train.json"
    val_json: "new_whales_rcnn/annotations/instances_Validation.json"

# Training
training:
  epochs: 5
  batch_size: 2
  lr: 0.005
  momentum: 0.9
  weight_decay: 0.0005
  lr_step_size: 3
  lr_gamma: 0.1
  num_workers: 4
  seed: 42
  amp: true
  eval_map_every: 1  # compute COCO mAP every N epochs (0 to disable)
  transforms:
    resize:
      min_size: 800
      max_size: 1333

# Model
model:
  name: "fasterrcnn_resnet50_fpn_v2"
  pretrained: true
  num_classes: 2  # background + whale

# Checkpointing / logging
output:
  dir: "outputs"
  experiment: "fasterrcnn_cli"
  save_every: 1
  resume: null  # path to checkpoint to resume from

# Early stopping to avoid overfitting
early_stopping:
  enabled: true
  monitor: "val_loss"   # or "map"
  mode: "min"           # "min" for val_loss, "max" for map
  min_delta: 0.0
  patience: 3
